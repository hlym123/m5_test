# 无线通信

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">关键指标说明</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>基础数据收发</td>
    <td>测试设备基本数据的发送与接收功能</td>
    <td>数据收发成功，无丢包或错误</td>
  </tr>
  <tr>
    <td>天线驻波比</td>
    <td>测量天线匹配状况，反映发射效率。（矢量网络分析仪测量，数值越接近 1 表示匹配越好。）</td>
    <td></td>
  </tr>
  <tr>
    <td>通信频段</td>
    <td>确认发射/接收频率是否在规定范围</td>
    <td>频率范围符合设计要求</td>
  </tr>
  <tr>
    <td>最大发射功率</td>
    <td>测量设备最大输出射频功率（射频功率计测量）</td>
    <td>功率符合设计规范，且稳定</td>
  </tr>
  <tr>
    <td>接收信号强度</td>
    <td>测量接收端接收到的信号强度</td>
    <td>信号强度在可用范围，无异常衰减</td>
  </tr>
  <tr>
    <td>拉距测试</td>
    <td>测试设备在不同距离下的通信质量</td>
    <td>通信稳定，达到设计最大距离</td>
  </tr>
</table>


* 测试环境：应尽量开阔，无障碍物遮挡；
* 对于外置天线：一般天线为竖直向上，高度1.5m；
* 对于内置天线：需考虑产品外壳材料及结构对信号的影响，采用六面测试（指对产品的前、后、左、右、上、下六个方向分别进行测试）。


<section class="sel" data-key="Wi-Fi">

------------------------------------------
## Wi-Fi 

一般来说，WiFi设备的RSSI判定参考范围如下：
* -30 dBm 到 -50 dBm：信号非常强，连接质量最好，速度最快。
* -50 dBm 到 -60 dBm：信号良好，连接稳定，适合大多数应用。
* -60 dBm 到 -70 dBm：信号一般，可能偶尔有轻微干扰或速度下降。
* -70 dBm 到 -80 dBm：信号较弱，连接可能不稳定，出现断线风险较高。
* 低于 -80 dBm：信号很弱，基本无法正常通信。

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">样品测试、产品测试</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>拉距测试</td>
    <td>使用Wi-Fi拉距测试治具测试（记录信号距离, 接收信号强度）</td>
    <td>实测</td>
  </tr>
</table>

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">生产测试</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>连接到指定热点</td>
    <td>需要设定连接信号阈值（一般为：-70dB）</td>
    <td>可以连接网络</td>
  </tr>
</table>

</section>


<section class="sel" data-key="蓝牙">

------------------------------------------
## 蓝牙
 
<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">样品测试、产品测试</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>基础连接测试</td>
    <td>测试设备能否成功与目标设备配对连接</td>
    <td>连接成功，连接稳定，无断连</td>
  </tr>
  <tr>
    <td>支持协议测试</td>
    <td>一般分“经典蓝牙”和“低功耗蓝牙”</td>
    <td>实测</td>
  </tr>
  <tr>
    <td>拉距测试</td>
    <td>记录信号距离, 接收信号强度</td>
    <td>实测</td>
  </tr>
</table>

</section>


<section class="sel" data-key="LoRa">

------------------------------------------
## LoRa

### 参数说明

#### 工作频段

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">工作频段（LoRa）</caption>
  <tr style="background-color:#00BFFF;">
    <th>地区/国家</th>
    <th>频率范围</th>
    <th>说明</th>
  </tr>
  <tr>
    <td>中国（CN）</td>
    <td>470~510 MHz</td>
    <td>国家规定的LoRa专用频段</td>
  </tr>
  <tr>
    <td>欧洲（EU）</td>
    <td>863~870 MHz</td>
    <td>欧洲联盟的免许可ISM频段</td>
  </tr>
  <tr>
    <td>美国（US）</td>
    <td>902~928 MHz</td>
    <td>美国FCC规定的免许可ISM频段</td>
  </tr>
  <tr>
    <td>亚太地区（AS）</td>
    <td>920–925 MHz</td>
    <td>部分亚太国家采用该频段</td>
  </tr>
  <tr>
    <td>其他地区</td>
    <td>433 MHz (部分国家)</td>
    <td>部分国家允许的低频段LoRa频率</td>
  </tr>
</table>

#### 工作带宽 

* 带宽越大，数据速率越高，但接收灵敏度下降，通信距离缩短。
* 带宽越小，接收灵敏度提高，通信距离增加，但数据速率降低。

#### 扩频因子

* 控制调制信号的宽度，从而影响信号的传播距离和数据速率。
* SF7 到 SF12，其中 SF7 是最快的，但数据传输距离较短；而 SF12 提供了最远的传输距离，但数据速率较低。

#### 输出功率

* 输出功率（通常为-9~22dBm）越大，通信距离越远，但功耗也越高（注意存在法规限制）

#### 编码率

* 描述发送数据的冗余程度。它影响到数据传输的可靠性以及速率。

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">编码率说明</caption>
  <tr style="background-color:#00BFFF;">
    <th>编码率</th>
    <th>说明</th>
    <th>影响</th>
  </tr>
  <tr>
    <td>4/5</td>
    <td></td>
    <td>纠错能力较低，传输速率较高</td>
  </tr>
  <tr>
    <td>4/6</td>
    <td>数据中4位有效，2位为纠错码</td>
    <td></td>
  </tr>
  <tr>
    <td>4/7</td>
    <td>数据中4位有效，3位为纠错码</td>
    <td></td>
  </tr>
  <tr>
    <td>4/8</td>
    <td>数据中4位有效，4位为纠错码</td>
    <td>最高纠错能力，传输速率最低，适合恶劣环境</td>
  </tr>
</table>

#### 同步字

一个特定的值，用于区分不同的 LoRa 网络或通信群组，范围：0x00 ~ 0xFF。

#### 前导符长度

一个固定的预定长度，用于接收设备进行同步并准备好接收数据。

### 测试项 

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">样品测试、产品测试</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>基础收发测试</td>
    <td>测试设备是否能正常发送和接收数据</td>
    <td>数据收发成功，无丢包和错误</td>
  </tr>
  <tr>
    <td>中断触发接收</td>
    <td>测试接收端中断信号触发功能是否正常</td>
    <td>中断响应及时，接收功能稳定</td>
  </tr>
  <tr>
    <td>TXEN（发射使能）,RXEN（接收使能） 电平测量</td>
    <td>测量发射使能（TXEN）和接收使能（RXEN）信号电平</td>
    <td>电平符合设计规格，发射/接收状态切换正常</td>
  </tr>
  <tr>
    <td>拉距测试</td>
    <td>测试设备在不同距离下的通信质量</td>
    <td>实测</td>
  </tr>
</table>

### 拉距测试记录

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">通信参数</caption>
  <tr style="background-color:#00BFFF;">
    <th>频率（Hz）</th>
    <th>功率（dBm）</th>
    <th>带宽（Hz）</th>
    <th>扩频因子</th>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">指标解析</caption>
  <tr style="background-color:#00BFFF;">
    <th>指标</th>
    <th>含义</th>
    <th>极限参考值（不同芯片方案不同）</th>
  </tr>
  <tr>
    <td>RSSI</td>
    <td>接收信号强度，越大越好</td>
    <td>≤ -130 dBm（接收灵敏度极限）</td>
  </tr>
  <tr>
    <td>SNR</td>
    <td>信噪比</td>
    <td>≤ -20 dB（解调极限）</td>
  </tr>
  <tr>
    <td>丢包率</td>
    <td>丢失数据包数量占所发送数据组的比率</td>
    <td>≥ 10%（不可靠通信阈值）</td>
  </tr>
</table>

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">结果记录</caption>
  <tr style="background-color:#00BFFF;">
    <th>距离（m）</th>
    <th>RSSI(dBm)</th>
    <th>SNR(dB)</th>
    <th>丢包率</th>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>

</section>


<section class="sel" data-key="移动通信（4G,NB-IoT）">

------------------------------------------
## 移动通信（4G,NB-IoT）

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">样品测试、产品测试</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>基础注册测试</td>
    <td>测试模块能否注册到网络（4G或NB-IoT）</td>
    <td>可正常注册，SIM状态正常，附着成功</td>
  </tr>
  <tr>
    <td>运营商</td>
    <td>检查模块是否兼容不同运营商的网络，如移动、电信、联通等</td>
    <td>符合产品规格，能正常接入目标运营商网络</td>
  </tr>
  <tr>
    <td>通信</td>
    <td>连接服务器通信</td>
    <td>能正常连接服务器，数据可稳定收发</td>
  </tr>
  <tr>
    <td>协议</td>
    <td>对于4G Cat.1 一般支持协议MQTT，WebSocket，HTTP，UDP等</td>
    <td>支持所需协议，连接无异常</td>
  </tr>
  <tr>
    <td>稳定性</td>
    <td>模拟长时间运行、弱信号、频繁切网等场景，测试模块连接是否稳定</td>
    <td>无频繁掉线、能自动重连，数据收发稳定</td>
  </tr>
  <tr>
    <td>功耗</td>
    <td>测试模块在不同状态（注册、待机、传输、休眠）下的电流/功耗</td>
    <td>功耗符合产品设计要求，状态切换正常</td>
  </tr>
  <tr>
    <td>数据传输速率</td>
    <td>测试上传、下载速率是否满足设计要求</td>
    <td>速率稳定，无明显波动，与模组规格描述接近。</td>
  </tr>
</table>

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">产测</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>入网通信</td>
    <td>连接服务器上下行测试</td>
    <td>能正常连接和收发数据</td>
  </tr>
</table>

</section>
 

<section class="sel" data-key="红外">

------------------------------------------
## 红外

<table>
  <caption style="caption-side:top; font-weight:bold; text-align:center; margin-bottom:4px;">样品测试、产品测试</caption>
  <tr style="background-color:#00BFFF;">
    <th>测试项</th>
    <th>说明</th>
    <th>判定标准</th>
  </tr>
  <tr>
    <td>发射角度（视场角）</td>
    <td>测量红外发射器的发射角度范围</td>
    <td>角度符合设计规格，无异常偏差</td>
  </tr>
  <tr>
    <td>拉距测试</td>
    <td>发射与接收模块间有效通信的最大距离</td>
    <td>达到设计通信距离，无信号丢失</td>
  </tr>
</table>

</section>
